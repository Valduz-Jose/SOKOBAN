#include <stdio.h>
#include <stdlib.h>
#define iz 75
#define de 77
#define ar 72
#define ab 80
/* run this program using the console pauser or add your own getch, system("pause") or input loop */
typedef struct datos{
	int mov;
	char name[40];
};
void imp_map_one(int matriz[11][19]);
void imp_map_two(int matrizz[10][14]);
void imp_map_tre(int matrizzz[12][13]);
int main(int argc, char *argv[]) {
	int map_one[11][19]={
	{177,177,177,177,178,178,178,178,178,177,177,177,177,177,177,177,177,177,177},
	{177,177,177,177,178,176,176,176,178,177,177,177,177,177,177,177,177,177,177},
	{177,177,177,177,178,176,176,176,178,177,177,177,177,177,177,177,177,177,177},
	{177,177,178,178,178,176,176,176,178,178,177,177,177,177,177,177,177,177,177},
	{177,177,178,176,176,176,176,176,176,178,177,177,177,177,177,177,177,177,177},
	{178,178,178,176,178,176,178,178,176,178,177,177,177,178,178,178,178,178,178},
	{178,176,176,176,178,176,178,178,176,178,178,178,178,178,176,176,167,167,178},
	{178,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,167,167,178},
	{178,178,178,178,178,176,178,178,178,176,178,176,178,178,176,176,167,167,178},
	{177,177,177,177,178,176,176,176,176,176,178,178,178,178,178,178,178,178,178},
	{177,177,177,177,178,178,178,178,178,178,178,177,177,177,177,177,177,177,177}
	};
	int map_two[10][14]={
	{178,178,178,178,178,178,178,178,178,178,178,178,177,177},
	{178,167,167,176,176,178,176,176,176,176,176,178,178,178},
	{178,167,167,176,176,178,176,176,176,176,176,176,176,178},
	{178,167,167,176,176,178,176,178,178,178,178,176,176,178},
	{178,167,167,176,176,176,176,176,176,178,178,176,176,178},
	{178,167,167,176,176,178,176,178,176,176,178,176,178,178},
	{178,178,178,178,178,178,176,178,178,176,176,176,176,178},
	{177,177,178,176,176,176,176,176,176,176,176,176,176,178},
	{177,177,178,176,176,176,176,178,176,176,176,176,176,178},
	{177,177,178,178,178,178,178,178,178,178,178,178,178,178},
	};
	int map_tre[12][13]={
	{177,177,177,177,177,177,177,178,178,178,178,178,177},
	{177,178,178,178,178,178,178,178,176,176,176,178,178},
	{178,178,176,178,176,176,178,178,176,176,176,176,178},
	{178,176,176,176,176,176,176,176,176,176,176,176,178},
	{178,176,176,176,176,176,178,178,178,176,176,176,178},
	{178,178,178,176,178,178,178,178,178,176,178,178,178},
	{178,176,176,176,176,178,178,178,176,176,167,167,178},
	{178,176,176,176,176,176,176,176,167,167,167,167,178},
	{178,176,176,176,176,178,178,178,167,167,167,167,178},
	{178,176,176,176,176,178,177,178,167,167,167,167,178},
	{178,176,176,178,178,178,177,178,178,178,178,178,178},
	{178,178,178,178,177,177,177,177,177,177,177,177,177},
	};
struct datos a1;
a1.mov=0;
int c,fi,co,c1,c11,c2,c22,c3,c33,c4,c44,c5,c55,c6,c66;
c1=7,c11=2,c2=2,c22=5,c3=4,c33=5,c4=7,c44=5,c5=3,c55=7,c6=4,c66=7;
fi=8,co=12;
char tecla;
c=0;
printf("\t\t\t\t\tSOKOBAN");
printf("\n\n\t\tNombre:");
scanf("%s",&a1.name);
printf("\n\n\t\t\t\tEmpezemos %s\n\n\t",a1.name);
system("PAUSE");
system("cls");

while(c==0){
	printf("\t\t\t\t\tSOKOBAN");
	printf("\n\n\tJugador: %s \t\t\t\t\tMovimientos: %d",a1.name,a1.mov);
	map_one[c1][c11]=219;
	map_one[c2][c22]=219;
	map_one[c3][c33]=219;
	map_one[c4][c44]=219;
	map_one[c5][c55]=219;
	map_one[c6][c66]=219;
	map_one[fi][co]=2;
	imp_map_one(map_one);
	map_one[fi][co]=176;
	if((map_one[fi+1][co]==167)||(map_one[fi-1][co]==167)||(map_one[fi][co-1]==167)){
		map_one[fi][co]=167;
	}
	tecla=getch();
	if(tecla==ar){
		if(map_one[fi-1][co]!=178){
		fi--;		
		}
	}
	if(tecla==ab){
		if(map_one[fi+1][co]!=178){
		fi++;
		}
	}
	if(tecla==iz){
		if(map_one[fi][co-1]!=178){
		co--;
		}
	}
	if(tecla==de){
		if(map_one[fi][co+1]!=178){
		co++;
		}
	}	
system("cls");
}
	
	
/*	printf("\n");
	imp_map_two(map_two);
	printf("\n");
	imp_map_tre(map_tre);*/
	return 0;
}
void imp_map_one(int matriz[11][19]){
	int q,w;
	for(q=0;q<11;q++){
		printf("\n");
		printf("\t\t\t\t");
		for(w=0;w<19;w++){
			printf("%c",matriz[q][w]);
		}
	}
}
void imp_map_two(int matrizz[10][14]){
	int e,r;
	for(e=0;e<10;e++){
		printf("\n");
		for(r=0;r<14;r++){
			printf("%c",matrizz[e][r]);
		}
	}
}
void imp_map_tre(int matrizzz[12][13]){
	int t,y;
	for(t=0;t<12;t++){
		printf("\n");
		for(y=0;y<13;y++){
			printf("%c",matrizzz[t][y]);
		}
	}
}
